var processAndTest=function(s){var t=this;this.processSets=[],this.data=s,this.errorMessage=void 0,this.pass=!1,this.newProcess=function(s){t.processSets.push({action:s.action,tests:s.tests,mode:s.mode,errorMessage:s.errorMessage})},this.run=function(){var s=0,e=t.processSets.length,n=t.processSets[s],o=function(s){"async"==n.mode?n.action(t.data).then(function(s){t.data=s,r(n)}):(t.data=n.action(t.data),r(n))},r=function(s){t.runTests(s)===!1?(t.pass=!1,t.onEnd()):a()},a=function(){e>s+1?(s++,n=t.processSets[s],o(n)):(t.pass=!0,t.onEnd())};o(n)},this.onEnd=function(){},this.runTests=function(s){for(var e=0;e<s.tests.length;e++){var n=s.tests[e](t.data);if(n!==!0)return t.errorMessage=n,!1}}};